# Виконання домашнього завдання task5.2 – Linux Essentials
### 1. Проаналізували структуру файлу /etc/passwd і /etc/group.
##### Файл etc/passwd
![](https://drive.google.com/uc?export=view&id=10RJhOHsteb2BjyYlzvtX3S6rh2T_ZQmx)
##### Це текстовий файл в якому построково містяться облікові записи користувачів. Файл завжди починається з облікового запису root, після якого йдуть системні облікові записи, а потім вже звичайні. Список впорядковано не в алфавітному порядку, а по UID - ідентифікатору користувача..
##### Кожна стрічка складається з 7-и ключових записів:
- Username: ім'я користувача під яким входимо в систему
- Password: пароль користувача, мітка "х" означає, що пароль знаходиться в файлі /etc/shadow
- UID: ідентифікатор користувача, використовується системою для зверненя до користувача.
- GID: ідентифікатор групи користувача.
- GECOS: це поле з інформацією про користувача (повне ім'я, номер кімнати, особистий і робочий номер телефону)
- Home directory: шлях до домашньої папки користувача.
- Login Shell: шлях до оболонки входу користувача. Зазвичай це bash.
 

##### Файл etc/group
![](https://drive.google.com/uc?export=view&id=1WzrHS_TggEuVQkP9_3gg0mhYqvAuArJk)
##### Це текстовий файл в якому зберігаються імена груп з прив'язкою користувачыв до цих груп.

##### Кожна стрічка складається з 4-х ключових записів:
- Group name: при створенні нового користувача створюється група з такою ж назвою.
- Group password: зашифрований пароль або символ "х", який вказує на використання файлу /etc/shadow.
- Group ID: ідентифікатор групи (число)
- Group members: список членів групи.

##### В системі існує користувач root, декілька користувачів, створених вручну та багато псевдокористувачів, які створені автоматично системою для роботи з різними системніми службами і процесами. Користувачі у яких UID номер до 1000 - це псевдокористувачі (наприклад - bin, sys, mail, news, proxy, backup)


### 2. Що таке UID?
UID - унікальний ідентифікатор користувача, по якому система звертається до користувача. UID видається в діапазоні чисел від 0 до 65535, де 0 - це завжди root, 1-999 - зарезервовано для системи, 1000 - перший вручну створений користувач. Побачити UID можна в файлі /etc/passwd або за допомогою команди "id -u" з-під потрібного користувача.  

### 3. Що таке GID?
GID - ідентифікатор групи.
Побачити GID можна в файлі /etc/group або за допомогою команди "id -g" з-під потрібного користувача, або "id -g user" з будь-кого користувача.

### 4. Визначили приналежність користувачів до груп.
![](https://drive.google.com/uc?export=view&id=1WwN1Rv__ium9KPytlcKSfO2G_FluOtQ7)

### 5. Вивчили основні команди для додавання користувача до системи та дізнались, які основні параметри необхідні для створення користувача.
![](https://drive.google.com/uc?export=view&id=1f7ZsN_ecYjbxUYIaeqgg6Y5SMEqTmrL3)
##### Параметри, які потрібні для створення користувача:
- ім'я користувача
- пароль
- повне ім'я
- номер кімнати
- робочий телефон
- домашній телефон
- додаткова інформація


### 6. Навчились змінювати ім'я (облікового запису) існуючого користувача
![](https://drive.google.com/uc?export=view&id=1NHNoxyDq1nq9UidaBgSP78sT_b9leUiR)


### 7. Розібрались з skell_dir та вивчили його структуру.
![](https://drive.google.com/uc?export=view&id=1gf2qzVYQaWSMkHbL_G1Ua6YxCWKU9eaP)
##### Каталог /etc/skel/ використовується для запуску домашнього каталогу при першому створенні користувача.


### 8. Навчились видаляти користувача з системи (включаючи його поштову скриньку)
![](https://drive.google.com/uc?export=view&id=1Le4DhOmNgkrBJdTb6-_xw6XreTLIGpWr)


### 9 Розібрались з командами та ключами для блокування та розблокування облікового запису користувача
![](https://drive.google.com/uc?export=view&id=1ad0RZnn_X4Iw-YPC2kV_aQBb2lt75e1z)
##### Щоб перевірити статус блокування - "passwd -S lock". 
параметр Р - пароль встановлено, користувач розблокований
параметр L - користувач заблокований 

### 10. Можемо видалити пароль користувача та надати йому логін без пароля для подальшої зміни пароля
![](https://drive.google.com/uc?export=view&id=10I1En7GzHOqfcliIwJrmutFiQCKeDz9t)


### 11. Відобразили розширений формат інформації про каталог.
![](https://drive.google.com/uc?export=view&id=12iL1SFCoM9K7ZgXpCW6KmTy6BQ9dKito)
1.  розмір папки
2.  індекс айнод (inode index)
3.  тип об'єкта ("-"-файл, "d"-папка, "l"-послиання)
4.  права на об'єкт (r-читання, w-запис, x-запуск)
5.  кількість хардлінків
6.  користувач, який створив об'єкт (власник)
7.  група користувача
8.  розмір об'кту
9.  дата створення/останньої зміни об'єкту
10.  назва об'єкту


### 12. Вивчили які права доступу існують і для кого.
##### Є два типи прав доступу - ХТО має право та ЩО має право.
ХТО:
- u - user  - власник об'єкту
- g - group - група користувачів
- o - other - всі інші

ЩО:
- r - read    - доступ на читання файла/папки
- w - write   - доступ на запис файла/папки
- x - execute - доступ на виконання файла/папки

Також замість буквенного відображення можу бути чисельне:
- r - 4
- w - 2
- x - 1
Приклад:
![](https://drive.google.com/uc?export=view&id=1y7lu6EU03l5OR-O91QiuwrJR32mPMchy)
1. rwxrwxr-x   cdrom
 - rwx - користувач має повний доступ до файлу (читати, записувати та запускати)
 - rwx - група має повний доступ до файлу (читати, записувати та запускати)
 - r-x - всі інші можуть тільки читати та виконувати файл.
в чисельному вигляді - 775 (4+2+1, 4+2+1, 4+0+1)
2. rwxr-xr-x   dev
 - rwx - користувач має повний доступ до файлу (читати, записувати та запускати)
 - r-x - група може тільки читати та запускати файл.
 - r-x - всі інші можуть тільки читати та запускати файл.
в чисельному вигляді - 755 (4+2+1, 4+0+1, 4+0+1)




### 13. Знайшли залежність визначення відносин між файлом і користувачем
![](https://drive.google.com/uc?export=view&id=1qVYebkwvdoA0hr3eIY1gPcpCQAhsoR47)
##### UID — це номер, який Linux призначає кожному користувачеві системи. Цей номер використовується, щоб ідентифікувати користувача в системі та визначити, до яких файлів користувач може отримати доступ.




### 14. Перевіряли можливість зміни власника файлу (каталога), а також режиму доступу до файлу.
![](https://drive.google.com/uc?export=view&id=141zneHzsxkoX4vKvwyPmFprYB_bBb4GU)
##### Для зміни власника використовується команда "chown"
##### Для зміни доступу використовується команда chmod

 - chmod u=rx file        (Надає власнику права rx, без w)
 - chmod go-rwx file      (Забороняє доступ для груп та іншиш користувачів)
 - chmod g+w file         (Надає права для запису всій групі)
 - chmod a+x file1 file2  (Надає права на виконання  декількох фалів всім користувачам)
 - chmod g+rx,o+x file    (можна в одній стрічці робити декілька записів через кому)


### 15. Прочитали про вісімкове представлення прав доступу та вивчили команду umask
- r - read    - 4
- w - write   - 2
- x - execute - 1

Наприклад: розглянемо - rwxrwxr-x

  | rwx  | rwx |  r-x |
| :-------------: | :-------------: | :-------------: |
| 4+2+1  | 4+2+1  |4+0+1 |
| 7  | 7  |5  |

##### Як бачимо, щоб дізнатись цифру прав доступа -  потрібно додати всі доступи.
##### Команда umask визначає маску прав для нових файлів і каталогів. При створенні будь-якого файлу операційна система вимагає маску прав і розраховує маску на основі неї. 
##### При ствренні об'єктів, зазвичай в них маска 666 для файлів та 777 для папок.
##### За допомогою umask можна змінювати ці дані. 
![](https://drive.google.com/uc?export=view&id=1V-Qmg4xwvACVxnD6DPHtdKQ1QKC_SLIb)
##### Створимо папку umask та переглянемо її маску. Бачимо, шо у нас маска 0033. Переведемо в буквенний вигляд, не враховуюючи перший нуль: 
 - для файлів
6-0=6
6-3=3
6-3=3
Тобто, у нас права доступу для файлів - 633, а це rw--wx-wx-
  - для папок
7-0=7
7-3=4
7-3=4
Тобто, у нас права доступу для папок - 744, а це rwxr--r---

##### Змінимо маску на 0022.
##### Перевіримо:
666-022=644 (rw-r--r--)
777-022=755 (rwxr-xr-x)



### 16. Вивчили інформацію про sticky біт та механізм заміни ідентифікатора.
##### Sticky bit — це прапорець, що впливає на права доступу користувача, який можна присвоїти файлам і текам в UNIX-подібних системах. Коли sticky bit теки встановлено, файлова система трактує файли в такій теці таким чином, що лише власник файлу, власник теки або root можуть перейменувати або видалити файл.
![](https://drive.google.com/uc?export=view&id=1K_kJtlxTZWkr8QuJAc02EAmnYFuxD8dQ)
![](https://drive.google.com/uc?export=view&id=1Vl4PeQ9Xm8tjh2KJzrpQLEXPHnR2MIRN)


### 17. Для запуску коммандних скриптів потрібен атрибут "х" - надання права виконувати файли.



