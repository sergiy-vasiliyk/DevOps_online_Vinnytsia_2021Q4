# Виконання домашнього завдання task5.3 – Linux Essentials
## Part 1
### 1. Скільки станів може мати процес у Linux?
- Running/Runnable (R) - процес або запущено, або готовий до запуску.
- Interruptible Sleep (S)- заблокований стан процесу, який очікує на подію або сигнал від іншого процесу
- Uninterruptible Sleep (D)- заблокований стан, в якому процес змушений зупинятися за певної умови, що очікується станом апаратного забезпечення і сигнал не може бути оброблений.
- Stopped (T) - стан після завершення процесу. Процес можна перезапустити.
- Zombie (Z) - процес буде припинено, а інформація все ще буде доступна в таблиці процесів.
![](https://drive.google.com/uc?export=view&id=1qWbGyCHNSabM0CAIIDCloTDy-fyk_0sC)


### 2. Перевірте команду pstree. Показати (з підсвічуванням) зв'язок поточного процесу.
##### Для виділення ланцюжка процесів викоритовується ключ "-h" команди pstree. 
##### За допомогою htop дізнались PID процесу. 
![](https://drive.google.com/uc?export=view&id=1GQTOll5tg5tlxzD3z1F4vDkGnc3YE9oP)
##### Та переглянули ланцюжок процесів pstree -p -h <PID>
![](https://drive.google.com/uc?export=view&id=11enNc9Daetv8g2DlsUcM__m8VkTTM5Qe)

### 3. Що таке файлова система proc?
![](https://drive.google.com/uc?export=view&id=1x0bY2aqmNFvKhrEyXbmN7Z2zPnoOBTe_)
##### proc це віртуальна файлова система, всередині якої містяться дані про процеси, які запущені та інша системна інформація. Вона відображається в /proc, монтується під час завантаження та зникає під час вимкнення системи. Забезпечує комунікацію між простором ядра та простором користувача.

### 4. Показати інформацію про процесор (його тип, підтримувані технології тощо).
![](https://drive.google.com/uc?export=view&id=13gQjd-hXDCI8GQ6TgqNn6TIvHK92KMV1)
![](https://drive.google.com/uc?export=view&id=1aBPQB5zzwLbiRn4tIPFfjrBeOI4_YLb1)


### 5. Отримати інформацію про процес, використовуючи команду "ps".Інформація має бути такою: власник процесу, аргументи, з якими процес був запущений на виконання, власник групи цього процесу тощо.
![](https://drive.google.com/uc?export=view&id=1r8khRx5_ydzK-7cEo_z9uszhpPmg3Iy8)
 

### 6. Як визначити процеси ядра та процеси користувача?
##### Процеси ядра linux запускаються самим ядром, при цьому батьківським процесом назначається процес kthread, з PID=2. Таким чином процесами ядра треба рахувати сам процес з PID=2, а також процеси, у яких PPID (т.е. pid батьків) дорівнює 2.
```
ps --pid=2 
ps --ppid=2
```
![](https://drive.google.com/uc?export=view&id=1lZZ5FNCyQOW_jnsGiWSbN7953K_ge3eK)
Усі інші процеси користувача (PID ≠ 2) 
```
ps -N --pid= 2 
ps -N --ppid=2
```
![](https://drive.google.com/uc?export=view&id=1FBvT3lictpT4zk0bBHU159o7VpJhnFxH)

### 7. Виведіть список процесів на термінал. Коротко опишіть статуси процесів. У якому вони стані?
![](https://drive.google.com/uc?export=view&id=1dXD5ZPut1uWaRqLtaeAt2QkKWsQd8z3I)
КОДИ СТАНУ ПРОЦЕСУ - з мануалу ps.

               D - безперервний сон (зазвичай IO)
               I - Неактивний потік ядра
               R - запущений або запускаємий (у черзі виконання)
               S - переривчастий режим сну (очікування завершення події)
               T - зупинено сигналом керування завданням
               t - зупинено налагоджувачем під час трасування
               X - мертвий (ніколи не повинен бути побачений)
               Z - неіснуючий ("зомбі") процес, припинений, але не використаний його батьківським процесом

       Також можуть відображатися додаткові символи:

               < високопріоритетний (неприємно для інших користувачів)
               N з низьким пріоритетом (приємно для інших користувачів)
               L має сторінки, заблоковані в пам’яті (для реального часу та користувацького в/в)
               s є керівником сесії
               l є багатопотоковим (використовується CLONE_THREAD, як NPTL pthreads)
               + знаходиться у групі процесів переднього плану

![](https://drive.google.com/uc?export=view&id=1GGm_QVH_58SS4sjJtePlzHLBU2BHILYR)
### 8. Відобразіть процеси лише конкретного користувача.
![](https://drive.google.com/uc?export=view&id=1Syj2IGtmeNl1dXRQ3d_jazEVKnNZ_CZO)
![](https://drive.google.com/uc?export=view&id=1Xy6F9yQu5n8pKQl7QVUhqXmGCI787Qd7)
![](https://drive.google.com/uc?export=view&id=1yVPK2hloumY-xev1jIgaeo8F6Fya2t2S)

### 9. Які утиліти можна використовувати для аналізу існуючих запущених завдань (проаналізувавши довідку для команди ps)?
##### Для аналізу існуючих запущених завдань (проаналізувавши довідку для команди ps) можна використовувати утиліти - pgrep, pstree, top, proc


### 10. Яку інформацію відображає команда top?
##### Команда top відображає інформацію про запущенні процеси в режимі реального часу. А саме - назву процесу, під яким користувачем запущено, скільки ресурсів споживає.
![](https://drive.google.com/uc?export=view&id=11U8YQCw3A-ix0zAPGAybic2zypKreYO0)



### 11. Відобразити процеси конкретного користувача за допомогою команди top.
![](https://drive.google.com/uc?export=view&id=1SmNTy814qF8DArIQElEwLvI_c5GeUje_)

### 12. Які інтерактивні команди можна використовувати для керування командою top?
- h - вивід справки по утиліті;
- q або Esc - вихід з утиліти;
- A - вибор кольорової гами;
- d або s - змінити інтервал оновлення інформації;
- H - виводити потоки процесів;
- k - надіслати сигнал завершення процесу;
- W - записати поточні налаштування програми в конфігураційний файл;
- Y - переглянути додаткову інформацію про процес, відкриті файли, порти, логи і т д;
- Z - змінити колірну схему;
- l - згорнути або вивести інформацію про середнє навантаження на систему;
- m - вимкнути або переключити режим відображення інформації про пам'ять;
- x - виділяє колонку "Жирним", по якій виконується сортування;
- y - виділяється процесами "Жирним", які виконуються в даний момент;
- z - перемикання між кольоровими і монохромними режимами;
- c - перемикання режиму виводу команди, доступний повний шлях і тільки команда;
- F - налаштування поля з інформацією про процес;
- o - фільтрація процесів по будь-якій умові;
- u - фільтрація процесів по імені користувача;
- V - відображення процесів у вигляді дерева;
- i - перемикання режиму відображення процесів, які зараз не використовують ресурси процесора;
- n - максимальне число процесів, для відображення в програмі;
- L - пошук по слову;
- <> - переміщення поля сортування праворуч/ліворуч;

##### Приклад зміни кольорової гами:
![](https://drive.google.com/uc?export=view&id=124N0g1yc-LLwD3P3wPaGnG4J40_m8XG6)

### 13. Відсортуйте вміст вікна процесів за різними параметрами (наприклад, кількість часу процесора тощо)
Shift+M - сортування по MEM
![](https://drive.google.com/uc?export=view&id=1MexPRSZVaxglzVwPPk9Jl_ohR_VlzCyl)
Shift+P - сортування по CPU
![](https://drive.google.com/uc?export=view&id=1CWsxqFmUMPgTA4QvVxEpDNM53rzQYbqE)
Shift+T - сортування по TIME
![](https://drive.google.com/uc?export=view&id=1LexxwkAOu_yH4Bh640bdQaHbIWjCTrL1)

### 14. Поняття пріоритету, які команди використовуються для встановлення пріоритету?
Пріоритет процесу в linux визначає наскільки більше процесорного часу буде віддано цьому процесу у порівнянні з іншими. Пріоритетом можна визначати, яка програма працюватиме швидше, а яка повільніша. Значення пріоритету може коливатися від 19 (мінімальний пріоритет) до -20 – максимальний пріоритет процесу linux. Причому, зменшувати пріоритет можна з правами звичайного користувача, але щоб збільшити потрібні права суперкористувача.

##### для виставлення пріоритету:
```
nice -n 18 ping google.com
```
##### для зміни проритету
```
sudo renice +4 7299 
```
![](https://drive.google.com/uc?export=view&id=1dE-STCR8mGEWE9P-b3ieCK125WVd2293)
![](https://drive.google.com/uc?export=view&id=1IVfRipLSZs4NusH10RFj6YUG4QyJVdyW)
![](https://drive.google.com/uc?export=view&id=1gvoeZVq8zMQmTR3bKFf0R3f0q2m4oKN7)
![](https://drive.google.com/uc?export=view&id=17uKntTx1pjYO4nD62rXkftNKvoXy2Hg1)
![](https://drive.google.com/uc?export=view&id=1vzxq_pcBzFY9JRLnvjTTac8ljxmfo-UC)

### 15. Змінити пріоритет процесу за допомогою команди top.
##### Для цього потрібно зайти в утиліту, вибрати процес та запам'ятати його PID. Потім натиснути "r" і ввести номер PID. Далі ввести новий пріоритет та натиснути Ентер. Пріоритет змінено.
![](https://drive.google.com/uc?export=view&id=1XeS5PMZIGUsvpMisixJffzG1S1Vskej0)
![](https://drive.google.com/uc?export=view&id=1LRHJiWM4zqQzm6fhBsagsDZXrWjQDE2M)
![](https://drive.google.com/uc?export=view&id=1L6sdWE8EPuaLGTYAbU1v_VdFJk_Kc--t)

### 16. Команда kill.
##### Команда kill в Linux — це вбудована команда, яка використовується для завершення процесів вручну. Команда kill надсилає сигнал процесу, який завершує процес. Якщо користувач не вказує жодного сигналу, який має надсилатися разом із командою kill, тоді надсилається сигнал TERM за замовчуванням, який припиняє процес.

```
kill -сигнал pid_процесса
```
##### Поширені сигнали. 
##### SIGINT - сигнал завершення процесу, який відправляє процесу, запущеним із терміналу комбінацію клавіш Ctrl+C. 
##### SIGQUIT - це ще один сигнал, який повертається за допомогою комбінації клавіш, програми, запущеної в терміналі. Він повідомляє, що потрібно завершитися, а програма може виповнити коректне завершення або проігнорувати сигнал. При потребі, може генеруватись дамп пам'яті.
##### SIGHUP - повідомляє процес, що з'єднання з керуючим терміналом розірвано, відправляється, в основному, системою при розриві з'єднань з Інтернетом;
##### SIGTERM - неповільно завершує процес, але обробляється програмою, тому дозволяє завершити дочерні процеси і звільнити всі ресурси;
##### SIGKILL - теж не повільно завершує процес, але, на відміну від попереднього варіанту, він не передається самому процесу, а обробляється ядром. Тому ресурси та дочірні процеси залишаються запущеними.

![](https://drive.google.com/uc?export=view&id=1GkggjD5FaMIZBKBxxNmhbCTMO7sxW1fr)
![](https://drive.google.com/uc?export=view&id=1kBz3ejCposYh10_q0WQJthDyK8EMU5Jr)
![](https://drive.google.com/uc?export=view&id=1tPoCfUy8CAWz1Xjxz7n1GdG6St4hWKFw)

##### Список всіх сигналів процесу: 
![](https://drive.google.com/uc?export=view&id=1k8oRnHqJ0DNoKwSMV1FK29hmPKvoowy5)


### 17. Команди jobs, fg, bg, nohup. 
##### Команди jobs, fg, bg, nohup дозволяють користувачу безпосередньо взаємодіти з процесами.

- jobs - виводить список фонових процесів 
- bg  - коли деякий процес запущено, його можна зупинити та перемістити у фоновий режим, натиснувши «Ctrl»+»z», а після введення команди «bg» процес знову починає працювати.
- fg - переводить процес на передній план.
- nohup - дозволяє запускати будь-яку програму після виходу або виходу з системи.


![](https://drive.google.com/uc?export=view&id=1ZYsPbiqS34bonDFoRxU9FurZoysIM5tl)


## Part 2
### 1. Підключились по ssh з Windows до Linux
##### Для підключення до Ububntu з Windows через ssh запускаємо cmd.exe та вводимо ssh user@host
![](https://drive.google.com/uc?export=view&id=1mOKZpBN7bpaWG0LV7OeNZbSoE5vPGfqP)
##### Однією з чаcто використаних команд є ssh-keygen - генерує ключі авторизації.
![](https://drive.google.com/uc?export=view&id=1L512MFWrIo6Cbt0VOW_HIMo-VBo4mKwU)
##### Наступна команда scp - для копіювання даних між хостовою та віддаленою машинами.
![](https://drive.google.com/uc?export=view&id=126ydJ8NOmUpIbDI1ugSp6sztVtCoV7wH)

### 2. Реалізували основні параметри SSH для підвищення безпеки з'єднання клієнт-сервер
##### Для безпеки з'єднання по ssh потрібно:
- змінити порт підключення
![](https://drive.google.com/uc?export=view&id=1qh5dXDO6Cz79s1mmLjVto25aEZpvaywU)
- вимкнути логіни root
![](https://drive.google.com/uc?export=view&id=18RVupLkt60oyDhtBRbpFDYTescGrQd1h)
- відхиляти запити на підключення без паролів
![](https://drive.google.com/uc?export=view&id=1hN2t0nZfaaCdfPkmDHu8tfHF1eYYdZ88)
- дозволити вхід лише певним користувачам
![](https://drive.google.com/uc?export=view&id=1Rep29uFAqctQGAUMXPny33QKzoht5I1o)
- використовувати ключі замість пароля.
![](https://drive.google.com/uc?export=view&id=1L512MFWrIo6Cbt0VOW_HIMo-VBo4mKwU)

##### Всі ці дії, крім ключів, налаштовуються в файлі `/etc/ssh/sshd_config`.
##### Піcля змін потрібно перезапустити службу - `service sshd restart`

### 3. Перерахували варіанти вибору ключів для шифрування в SSH.
#### Для SSH можуть бути наступні алгоритми шифрування:
- rsa
![](https://drive.google.com/uc?export=view&id=1npvfLyGkjWPKDlV1xAbp_mtvvSIXRMHo)
- dsa
![](https://drive.google.com/uc?export=view&id=1fcH904l0vnSeE48t-eH0sF0joYkNa0-p)
- ecdsa
![](https://drive.google.com/uc?export=view&id=1lYqzazYVLYXnKxiMdpj-d4S4DDgdTQJ8)
- ed25519
![](https://drive.google.com/uc?export=view&id=1vw9wvUzhnTd_28m3x3ybP-qLi6MlKk9a)





